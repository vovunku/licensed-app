"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.sliceHex = exports.sliceBytes = exports.slice = void 0;
const data_js_1 = require("../../errors/data.js");
const isHex_js_1 = require("./isHex.js");
const size_js_1 = require("./size.js");
function slice(value, start, end) {
    if ((0, isHex_js_1.isHex)(value))
        return sliceHex(value, start, end);
    return sliceBytes(value, start, end);
}
exports.slice = slice;
function assertStartOffset(value, start) {
    if (typeof start === 'number' && start > 0 && start > (0, size_js_1.size)(value) - 1)
        throw new data_js_1.SliceOffsetOutOfBoundsError({ offset: start, size: (0, size_js_1.size)(value) });
}
function sliceBytes(value, start, end) {
    assertStartOffset(value, start);
    return value.slice(start, end);
}
exports.sliceBytes = sliceBytes;
function sliceHex(value_, start, end) {
    assertStartOffset(value_, start);
    const value = value_
        .replace('0x', '')
        .slice((start ?? 0) * 2, (end ?? value_.length) * 2);
    return `0x${value}`;
}
exports.sliceHex = sliceHex;
//# sourceMappingURL=slice.js.map