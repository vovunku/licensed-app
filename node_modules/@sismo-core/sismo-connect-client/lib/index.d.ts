import { BigNumberish } from '@ethersproject/bignumber';

declare const getGroupFromIdQuery = "\n  query getGroup($id: ID!) {\n    group(id: $id) {\n      id\n      name\n      description\n      specs\n      generationFrequency\n      snapshots {\n        timestamp\n        dataUrl\n      }\n    }\n  }\n";
declare const getGroupFromNameQuery = "\n  query getGroup($name: String!) {\n    group(name: $name) {\n      id\n      name\n      description\n      specs\n      generationFrequency\n      snapshots {\n        timestamp\n        dataUrl\n      }\n    }\n  }\n";

type GroupParams = {
    id?: string;
    name?: string;
    timestamp?: string;
};
type FetchedData = Record<string, number>;
type GetGroupQueryOutput = {
    id: string;
    name: string;
    description: string;
    specs: string;
    generationFrequency: string;
    snapshots: {
        timestamp: string;
        dataUrl: string;
    }[];
};

declare class Sdk {
    private _apiFetcher;
    constructor(sismoApiUrl?: string);
    getGroup({ id, name, timestamp }: GroupParams): Promise<GetGroupQueryOutput & {
        data: FetchedData;
    }>;
}

declare const SISMO_CONNECT_VERSION = "sismo-connect-v1";
type SismoConnectRequest = {
    appId: string;
    namespace?: string;
    auths?: AuthRequest[];
    claims?: ClaimRequest[];
    signature?: SignatureRequest;
    devConfig?: DevConfig;
    callbackPath?: string;
    version: string;
};
type AuthRequest = {
    authType: AuthType;
    isAnon?: boolean;
    userId?: string;
    isOptional?: boolean;
    isSelectableByUser?: boolean;
    extraData?: any;
};
type ClaimRequest = {
    claimType?: ClaimType;
    groupId?: string;
    groupTimestamp?: number | "latest";
    value?: number;
    isOptional?: boolean;
    isSelectableByUser?: boolean;
    extraData?: any;
};
type SignatureRequest = {
    message: string;
    isSelectableByUser?: boolean;
    extraData?: any;
};
type DevConfig = {
    enabled?: boolean;
    displayRawResponse?: boolean;
    devGroups?: DevGroup[];
};
type DevGroup = {
    groupId: string;
    groupTimestamp?: number | "latest";
    data: DevAddresses;
};
type DevAddresses = string[] | Record<string, Number | BigNumberish>;
declare enum ProvingScheme {
    HYDRA_S2 = "hydra-s2.1"
}
declare enum ClaimType {
    GTE = 0,
    GT = 1,
    EQ = 2,
    LT = 3,
    LTE = 4
}
declare enum AuthType {
    VAULT = 0,
    GITHUB = 1,
    TWITTER = 2,
    EVM_ACCOUNT = 3
}
type SismoConnectResponse = Pick<SismoConnectRequest, "appId" | "namespace" | "version"> & {
    signedMessage?: string;
    proofs: SismoConnectProof[];
};
type SismoConnectProof = {
    auths?: Auth[];
    claims?: Claim[];
    provingScheme: string;
    proofData: string;
    extraData: any;
};
type Auth = {
    authType: AuthType;
    isAnon?: boolean;
    isSelectableByUser?: boolean;
    userId?: string;
    extraData?: any;
};
type Claim = {
    claimType?: ClaimType;
    groupId?: string;
    groupTimestamp?: number | "latest";
    isSelectableByUser?: boolean;
    value?: number;
    extraData?: any;
};
type VerifiedClaim = Claim & {
    proofId: string;
    proofData: string;
};
type VerifiedAuth = Auth & {
    proofData: string;
};
declare class SismoConnectVerifiedResult {
    auths: VerifiedAuth[];
    claims: VerifiedClaim[];
    signedMessage: string | undefined;
    response: SismoConnectResponse;
    constructor({ response, claims, auths, }: {
        response: SismoConnectResponse;
        claims: VerifiedClaim[];
        auths: VerifiedAuth[];
    });
    getUserId(authType: AuthType): string | undefined;
    getUserIds(authType: AuthType): string[];
    getSignedMessage(): string | undefined;
}
declare const resolveSismoIdentifier: (sismoIdentifier: string, authType: AuthType) => string;
declare const toSismoIdentifier: (identifier: string, authType: AuthType) => string;
declare class RequestBuilder {
    static buildAuths(auths: AuthRequest[] | AuthRequest): AuthRequest[];
    static buildClaims(claims: ClaimRequest[] | ClaimRequest): ClaimRequest[];
    static buildSignature(signature: SignatureRequest): SignatureRequest;
}

type RequestParams = {
    claims?: ClaimRequest[];
    claim?: ClaimRequest;
    auths?: AuthRequest[];
    auth?: AuthRequest;
    signature?: SignatureRequest;
    namespace?: string;
    callbackPath?: string;
    callbackUrl?: string;
};
type SismoConnectClientConfig = {
    appId: string;
    devMode?: DevConfig;
    vaultAppBaseUrl?: string;
    sismoApiUrl?: string;
};

declare const SismoConnect: (config: SismoConnectClientConfig) => SismoConnectClient;
declare class SismoConnectClient {
    private _appId;
    private _vaultAppBaseUrl;
    private _devConfig;
    private _devModeEnabled;
    private _sdk;
    constructor({ appId, devMode, vaultAppBaseUrl, sismoApiUrl, }: SismoConnectClientConfig);
    request: ({ claims, claim, auths, auth, signature, namespace, callbackPath, callbackUrl }: RequestParams) => void;
    getRequestLink: ({ claims, claim, auths, auth, signature, namespace, callbackPath, callbackUrl }: RequestParams) => string;
    getResponse: () => SismoConnectResponse | null;
    getGroup({ id, name, timestamp }: GroupParams): Promise<GetGroupQueryOutput & {
        data: FetchedData;
    }>;
    getResponseBytes: () => string | null;
}

declare const PROD_VAULT_APP_BASE_URL = "https://vault-beta.sismo.io";
declare const DEV_VAULT_APP_BASE_URL = "https://dev.vault-beta.sismo.io";

type QueryOptions = {
    query: string;
    variables?: any;
};
declare class ApiFetcher {
    private _url;
    constructor(url: string);
    getWithQuery<T>(opts: QueryOptions): Promise<any>;
}

declare const sismoApiUrls: Record<string, string>;

export { ApiFetcher, Auth, AuthRequest, AuthType, Claim, ClaimRequest, ClaimType, DEV_VAULT_APP_BASE_URL, DevAddresses, DevConfig, DevGroup, FetchedData, GetGroupQueryOutput, GroupParams, PROD_VAULT_APP_BASE_URL, ProvingScheme, QueryOptions, RequestBuilder, RequestParams, SISMO_CONNECT_VERSION, Sdk, SignatureRequest, SismoConnect, SismoConnectClient, SismoConnectClientConfig, SismoConnectProof, SismoConnectRequest, SismoConnectResponse, SismoConnectVerifiedResult, VerifiedAuth, VerifiedClaim, getGroupFromIdQuery, getGroupFromNameQuery, resolveSismoIdentifier, sismoApiUrls, toSismoIdentifier };
